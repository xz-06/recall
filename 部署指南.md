# ğŸš€ MkDocså›å¿†å½•ç³»ç»Ÿ - è¯¦ç»†éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—æä¾›äº†å¤šç§éƒ¨ç½²æ–¹å¼ï¼Œä»æœ€ç®€å•çš„å…è´¹æ–¹æ¡ˆåˆ°è‡ªå»ºæœåŠ¡å™¨æ–¹æ¡ˆï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚

---

## ğŸ“‹ ç›®å½•

1. [éƒ¨ç½²å‰å‡†å¤‡](#éƒ¨ç½²å‰å‡†å¤‡)
2. [æ–¹å¼ä¸€ï¼šGitHub Pagesï¼ˆæ¨èï¼Œå…è´¹ï¼‰](#æ–¹å¼ä¸€github-pagesæ¨èå…è´¹)
3. [æ–¹å¼äºŒï¼šNetlifyï¼ˆæ¨èï¼Œå…è´¹ï¼‰](#æ–¹å¼äºŒnetlifyæ¨èå…è´¹)
4. [æ–¹å¼ä¸‰ï¼šVercelï¼ˆæ¨èï¼Œå…è´¹ï¼‰](#æ–¹å¼ä¸‰vercelæ¨èå…è´¹)
5. [æ–¹å¼å››ï¼šRailwayï¼ˆåç«¯APIï¼‰](#æ–¹å¼å››railwayåç«¯api)
6. [æ–¹å¼äº”ï¼šè‡ªå»ºæœåŠ¡å™¨](#æ–¹å¼äº”è‡ªå»ºæœåŠ¡å™¨)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…Node.jsä¾èµ–
npm install

# å®‰è£…Pythonä¾èµ–ï¼ˆMkDocsï¼‰
pip install -r requirements.txt
```

### 2. æœ¬åœ°æµ‹è¯•

```bash
# æ„å»ºç«™ç‚¹
npm run mkdocs:build

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—®ï¼š
- å›å¿†å½•ç½‘ç«™ï¼šhttp://localhost:8000
- ä¸Šä¼ é¡µé¢ï¼šhttp://localhost:3001/upload

ç¡®ä¿ä¸€åˆ‡æ­£å¸¸åå†è¿›è¡Œéƒ¨ç½²ã€‚

---

## ğŸŒ æ–¹å¼ä¸€ï¼šGitHub Pagesï¼ˆæ¨èï¼Œå…è´¹ï¼‰

**ä¼˜ç‚¹**ï¼šå®Œå…¨å…è´¹ã€è‡ªåŠ¨éƒ¨ç½²ã€æ”¯æŒè‡ªå®šä¹‰åŸŸåã€CDNåŠ é€Ÿ

### æ­¥éª¤1ï¼šåˆ›å»ºGitHubä»“åº“

1. ç™»å½•GitHubï¼Œåˆ›å»ºæ–°ä»“åº“ï¼ˆä¾‹å¦‚ï¼š`recall`ï¼‰
2. ä¸è¦åˆå§‹åŒ–READMEã€.gitignoreæˆ–license

### æ­¥éª¤2ï¼šæ¨é€ä»£ç åˆ°GitHub

```bash
# åˆå§‹åŒ–Gitä»“åº“
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "Initial commit: MkDocså›å¿†å½•ç³»ç»Ÿ"

# æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/recall.git

# æ¨é€åˆ°GitHub
git push -u origin main
```

### æ­¥éª¤3ï¼šå¯ç”¨GitHub Actions

1. ä»£ç å·²åŒ…å« `.github/workflows/deploy.yml` æ–‡ä»¶
2. æ¨é€ä»£ç åï¼ŒGitHub Actionsä¼šè‡ªåŠ¨è¿è¡Œ
3. åœ¨ä»“åº“é¡µé¢ç‚¹å‡» "Actions" æ ‡ç­¾ï¼ŒæŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

### æ­¥éª¤4ï¼šå¯ç”¨GitHub Pages

1. è¿›å…¥ä»“åº“ **Settings**ï¼ˆè®¾ç½®ï¼‰
2. å·¦ä¾§èœå•æ‰¾åˆ° **Pages**
3. åœ¨ **Source** ä¸‹é€‰æ‹©ï¼š
   - Source: `Deploy from a branch`
   - Branch: `gh-pages`
   - Folder: `/ (root)`
4. ç‚¹å‡» **Save**

### æ­¥éª¤5ï¼šè®¿é—®ç½‘ç«™

ç­‰å¾…å‡ åˆ†é’Ÿåï¼Œè®¿é—®ï¼š
```
https://ä½ çš„ç”¨æˆ·å.github.io/recall/
```

### æ­¥éª¤6ï¼šé…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

1. åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º `CNAME` æ–‡ä»¶ï¼š
   ```
   yourdomain.com
   ```

2. åœ¨DNSæä¾›å•†å¤„æ·»åŠ CNAMEè®°å½•ï¼š
   ```
   ç±»å‹: CNAME
   åç§°: @ æˆ– www
   å€¼: ä½ çš„ç”¨æˆ·å.github.io
   ```

3. åœ¨GitHub Pagesè®¾ç½®ä¸­å¯ç”¨ **Enforce HTTPS**

### è‡ªåŠ¨éƒ¨ç½²

ä»¥åæ¯æ¬¡æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯ï¼ŒGitHub Actionsä¼šè‡ªåŠ¨ï¼š
1. å®‰è£…ä¾èµ–
2. æ„å»ºMkDocsç«™ç‚¹
3. éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯
4. æ›´æ–°ç½‘ç«™å†…å®¹

---

## ğŸŒ æ–¹å¼äºŒï¼šNetlifyï¼ˆæ¨èï¼Œå…è´¹ï¼‰

**ä¼˜ç‚¹**ï¼šå…è´¹ã€è‡ªåŠ¨HTTPSã€æ”¯æŒè¡¨å•ã€CDNåŠ é€Ÿã€ä¸€é”®éƒ¨ç½²

### æ–¹æ³•Aï¼šæ‹–æ‹½éƒ¨ç½²ï¼ˆæœ€ç®€å•ï¼‰

1. **æ„å»ºç«™ç‚¹**
   ```bash
   npm run mkdocs:build
   ```

2. **è®¿é—®Netlify**
   - æ‰“å¼€ https://app.netlify.com
   - æ³¨å†Œ/ç™»å½•è´¦å·

3. **æ‹–æ‹½éƒ¨ç½²**
   - å°† `site` æ–‡ä»¶å¤¹æ‹–æ‹½åˆ°Netlifyé¡µé¢
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ

4. **è®¿é—®ç½‘ç«™**
   - Netlifyä¼šæä¾›ä¸€ä¸ªéšæœºåŸŸåï¼Œä¾‹å¦‚ï¼š`random-name-123.netlify.app`

### æ–¹æ³•Bï¼šGitHubè¿æ¥ï¼ˆæ¨èï¼‰

1. **æ¨é€ä»£ç åˆ°GitHub**ï¼ˆå‚è€ƒæ–¹å¼ä¸€æ­¥éª¤2ï¼‰

2. **è¿æ¥GitHubåˆ°Netlify**
   - ç™»å½•Netlify
   - ç‚¹å‡» "Add new site" â†’ "Import an existing project"
   - é€‰æ‹© "GitHub"ï¼Œæˆæƒå¹¶é€‰æ‹©ä»“åº“

3. **é…ç½®æ„å»ºè®¾ç½®**
   ```
   Build command: pip install -r requirements.txt && mkdocs build
   Publish directory: site
   Python version: 3.9ï¼ˆåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ï¼‰
   ```

4. **æ·»åŠ ç¯å¢ƒå˜é‡**
   - åœ¨ "Site settings" â†’ "Environment variables" ä¸­æ·»åŠ ï¼š
   ```
   PYTHON_VERSION = 3.9
   ```

5. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy site"
   - ç­‰å¾…æ„å»ºå®Œæˆ

### é…ç½®è‡ªå®šä¹‰åŸŸå

1. åœ¨Netlifyç«™ç‚¹è®¾ç½®ä¸­æ‰¾åˆ° "Domain settings"
2. ç‚¹å‡» "Add custom domain"
3. è¾“å…¥ä½ çš„åŸŸå
4. æŒ‰ç…§æç¤ºé…ç½®DNSè®°å½•

### å¯ç”¨è¡¨å•åŠŸèƒ½ï¼ˆç”¨äºä¸Šä¼ ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨Netlify Formså¤„ç†ä¸Šä¼ ï¼Œéœ€è¦ä¿®æ”¹ä¸Šä¼ APIæˆ–ä½¿ç”¨Netlify Functionsã€‚

---

## ğŸŒ æ–¹å¼ä¸‰ï¼šVercelï¼ˆæ¨èï¼Œå…è´¹ï¼‰

**ä¼˜ç‚¹**ï¼šå…è´¹ã€è‡ªåŠ¨HTTPSã€å…¨çƒCDNã€å¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤1ï¼šå®‰è£…Vercel CLI

```bash
npm install -g vercel
```

### æ­¥éª¤2ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶

åˆ›å»º `vercel.json`ï¼š

```json
{
  "buildCommand": "pip install -r requirements.txt && mkdocs build",
  "outputDirectory": "site",
  "devCommand": "mkdocs serve",
  "installCommand": "pip install -r requirements.txt"
}
```

### æ­¥éª¤3ï¼šéƒ¨ç½²

```bash
# ç™»å½•Vercel
vercel login

# éƒ¨ç½²
vercel

# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
vercel --prod
```

### æ–¹æ³•Bï¼šé€šè¿‡GitHubè¿æ¥

1. **æ¨é€ä»£ç åˆ°GitHub**

2. **è¿æ¥GitHubåˆ°Vercel**
   - è®¿é—® https://vercel.com
   - ç‚¹å‡» "Import Project"
   - é€‰æ‹©GitHubä»“åº“
   - Vercelä¼šè‡ªåŠ¨æ£€æµ‹é…ç½®

3. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - ç­‰å¾…æ„å»ºå®Œæˆ

### è®¿é—®ç½‘ç«™

Vercelä¼šæä¾›ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚ï¼š`recall.vercel.app`

---

## ğŸŒ æ–¹å¼å››ï¼šRailwayï¼ˆåç«¯APIï¼‰

**ç”¨é€”**ï¼šéƒ¨ç½²åç«¯APIæœåŠ¡å™¨ï¼ˆç”¨äºä¸Šä¼ åŠŸèƒ½ï¼‰

**æ³¨æ„**ï¼šGitHub Pages/Netlify/Vercelåªèƒ½éƒ¨ç½²é™æ€ç«™ç‚¹ï¼Œä¸Šä¼ åŠŸèƒ½éœ€è¦å•ç‹¬çš„åç«¯æœåŠ¡å™¨ã€‚

### æ­¥éª¤1ï¼šå‡†å¤‡éƒ¨ç½²

ç¡®ä¿ `package.json` ä¸­æœ‰ `start` è„šæœ¬ï¼š

```json
{
  "scripts": {
    "start": "cross-env NODE_ENV=production node server/index.js"
  }
}
```

### æ­¥éª¤2ï¼šéƒ¨ç½²åˆ°Railway

1. **è®¿é—®Railway**
   - æ‰“å¼€ https://railway.app
   - æ³¨å†Œ/ç™»å½•è´¦å·ï¼ˆå¯ä½¿ç”¨GitHubç™»å½•ï¼‰

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**
   - åœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
   ```
   PORT = 3001
   NODE_ENV = production
   ```

4. **éƒ¨ç½²**
   - Railwayä¼šè‡ªåŠ¨æ£€æµ‹Node.jsé¡¹ç›®å¹¶éƒ¨ç½²
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ

5. **è·å–åŸŸå**
   - Railwayä¼šæä¾›ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚ï¼š`recall-production.up.railway.app`

### æ­¥éª¤3ï¼šé…ç½®å‰ç«¯APIåœ°å€

å¦‚æœå‰ç«¯éƒ¨ç½²åœ¨GitHub Pages/Netlifyï¼Œéœ€è¦ä¿®æ”¹ `upload.html` ä¸­çš„APIåœ°å€ï¼š

```javascript
// ä¿®æ”¹è¿™è¡Œ
const response = await fetch('/api/upload/memory', {
  // æ”¹ä¸º
const response = await fetch('https://ä½ çš„railwayåŸŸå/api/upload/memory', {
```

### æ›¿ä»£æ–¹æ¡ˆï¼šRender

ä¹Ÿå¯ä»¥ä½¿ç”¨ Renderï¼ˆhttps://render.comï¼‰ï¼š

1. åˆ›å»ºæ–°çš„ Web Service
2. è¿æ¥GitHubä»“åº“
3. æ„å»ºå‘½ä»¤ï¼š`npm install`
4. å¯åŠ¨å‘½ä»¤ï¼š`npm start`
5. ç¯å¢ƒå˜é‡ï¼š`NODE_ENV=production`

---

## ğŸŒ æ–¹å¼äº”ï¼šè‡ªå»ºæœåŠ¡å™¨

### æ–¹æ¡ˆAï¼šä½¿ç”¨Node.jsæœåŠ¡å™¨ï¼ˆå•æœåŠ¡å™¨ï¼‰

#### æ­¥éª¤1ï¼šå‡†å¤‡æœåŠ¡å™¨

- è´­ä¹°VPSï¼ˆæ¨èï¼šé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€DigitalOceanç­‰ï¼‰
- å®‰è£…Node.jså’ŒPython
- é…ç½®åŸŸåå’ŒDNS

#### æ­¥éª¤2ï¼šä¸Šä¼ ä»£ç 

```bash
# ä½¿ç”¨Gitå…‹éš†
git clone https://github.com/ä½ çš„ç”¨æˆ·å/recall.git
cd recall

# æˆ–ä½¿ç”¨FTP/SFTPä¸Šä¼ æ–‡ä»¶
```

#### æ­¥éª¤3ï¼šå®‰è£…ä¾èµ–

```bash
npm install
pip install -r requirements.txt
```

#### æ­¥éª¤4ï¼šæ„å»ºç«™ç‚¹

```bash
npm run mkdocs:build
```

#### æ­¥éª¤5ï¼šå¯åŠ¨æœåŠ¡å™¨

```bash
# ä½¿ç”¨PM2ç®¡ç†è¿›ç¨‹ï¼ˆæ¨èï¼‰
npm install -g pm2
pm2 start server/index.js --name recall
pm2 save
pm2 startup
```

#### æ­¥éª¤6ï¼šé…ç½®Nginxåå‘ä»£ç†

åˆ›å»º `/etc/nginx/sites-available/recall`ï¼š

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

å¯ç”¨é…ç½®ï¼š

```bash
sudo ln -s /etc/nginx/sites-available/recall /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

#### æ­¥éª¤7ï¼šé…ç½®SSLï¼ˆHTTPSï¼‰

ä½¿ç”¨Let's Encryptï¼š

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d yourdomain.com
```

### æ–¹æ¡ˆBï¼šåˆ†ç¦»éƒ¨ç½²ï¼ˆNginx + Node.jsï¼‰

#### Nginxé…ç½®é™æ€æ–‡ä»¶

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    root /var/www/recall/site;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. GitHub Pageséƒ¨ç½²åæ˜¾ç¤º404

**åŸå› **ï¼šGitHub Actionsæœªæ­£ç¡®è¿è¡Œæˆ–é…ç½®é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥ `.github/workflows/deploy.yml` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥GitHub Actionsæ˜¯å¦æœ‰é”™è¯¯
- ç¡®ä¿ä»“åº“è®¾ç½®ä¸­å·²å¯ç”¨GitHub Pages

### 2. å›¾ç‰‡æ— æ³•æ˜¾ç¤º

**åŸå› **ï¼šå›¾ç‰‡è·¯å¾„é”™è¯¯æˆ–æœªä¸Šä¼ 

**è§£å†³**ï¼š
- ç¡®ä¿å›¾ç‰‡åœ¨ `docs/images/` ç›®å½•
- æ£€æŸ¥Markdownä¸­çš„å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®
- ç¡®ä¿å›¾ç‰‡æ–‡ä»¶å·²æäº¤åˆ°Gitä»“åº“

### 3. ä¸Šä¼ åŠŸèƒ½ä¸å·¥ä½œ

**åŸå› **ï¼šåç«¯APIæœªéƒ¨ç½²æˆ–åœ°å€é…ç½®é”™è¯¯

**è§£å†³**ï¼š
- å¦‚æœä½¿ç”¨GitHub Pages/Netlifyï¼Œéœ€è¦å•ç‹¬éƒ¨ç½²åç«¯APIï¼ˆRailway/Renderï¼‰
- æ£€æŸ¥ `upload.html` ä¸­çš„APIåœ°å€æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥åç«¯æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### 4. MkDocsæ„å»ºå¤±è´¥

**åŸå› **ï¼šPythonä¾èµ–æœªå®‰è£…æˆ–ç‰ˆæœ¬ä¸å…¼å®¹

**è§£å†³**ï¼š
```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --upgrade

# æ£€æŸ¥Pythonç‰ˆæœ¬ï¼ˆéœ€è¦3.7+ï¼‰
python --version
```

### 5. è‡ªå®šä¹‰åŸŸåä¸ç”Ÿæ•ˆ

**åŸå› **ï¼šDNSé…ç½®é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥DNSè®°å½•æ˜¯å¦æ­£ç¡®é…ç½®
- ç­‰å¾…DNSä¼ æ’­ï¼ˆå¯èƒ½éœ€è¦å‡ å°æ—¶ï¼‰
- ä½¿ç”¨ `nslookup yourdomain.com` æ£€æŸ¥DNSè§£æ

### 6. éƒ¨ç½²åæ ·å¼ä¸¢å¤±

**åŸå› **ï¼šé™æ€èµ„æºè·¯å¾„é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥ `mkdocs.yml` ä¸­çš„ `site_url` é…ç½®
- ç¡®ä¿ä½¿ç”¨ç›¸å¯¹è·¯å¾„
- é‡æ–°æ„å»ºç«™ç‚¹

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼ˆ`npm run dev`ï¼‰
- [ ] æ‰€æœ‰ä¾èµ–å·²å®‰è£…
- [ ] å›¾ç‰‡æ–‡ä»¶å·²ä¸Šä¼ åˆ° `docs/images/`
- [ ] `mkdocs.yml` é…ç½®æ­£ç¡®
- [ ] ä»£ç å·²æ¨é€åˆ°Gitä»“åº“
- [ ] GitHub Actionså·²å¯ç”¨ï¼ˆå¦‚æœä½¿ç”¨GitHub Pagesï¼‰
- [ ] åŸŸåDNSå·²é…ç½®ï¼ˆå¦‚æœä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼‰
- [ ] åç«¯APIå·²éƒ¨ç½²ï¼ˆå¦‚æœä½¿ç”¨ä¸Šä¼ åŠŸèƒ½ï¼‰

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### æœ€ç®€å•ï¼šGitHub Pages
- âœ… å®Œå…¨å…è´¹
- âœ… è‡ªåŠ¨éƒ¨ç½²
- âœ… æ”¯æŒè‡ªå®šä¹‰åŸŸå
- âš ï¸ ä¸Šä¼ åŠŸèƒ½éœ€è¦å•ç‹¬åç«¯

### æœ€å…¨é¢ï¼šNetlify + Railway
- âœ… Netlifyéƒ¨ç½²å‰ç«¯ï¼ˆå…è´¹ï¼‰
- âœ… Railwayéƒ¨ç½²åç«¯APIï¼ˆå…è´¹é¢åº¦ï¼‰
- âœ… å®Œæ•´åŠŸèƒ½æ”¯æŒ

### æœ€çµæ´»ï¼šè‡ªå»ºæœåŠ¡å™¨
- âœ… å®Œå…¨æ§åˆ¶
- âœ… æ— é™åˆ¶
- âš ï¸ éœ€è¦æœåŠ¡å™¨å’Œç»´æŠ¤æˆæœ¬

---

ğŸ’• ç¥éƒ¨ç½²é¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹å¸¸è§é—®é¢˜éƒ¨åˆ†æˆ–æäº¤Issueã€‚

